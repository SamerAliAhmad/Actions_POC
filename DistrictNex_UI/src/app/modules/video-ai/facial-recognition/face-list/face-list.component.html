<div class="flex flex-col flex-auto h-full w-full">
    <div class="bg-card pb-4 border-b space-y-2">
        <div class="flex flex-col justify-between px-4 pt-4">
            <div class="flex items-center">
                <div class="flex-auto flex flex-col">
                    <mat-form-field class="flex-auto smartr-mat-emphasized-prefix" subscriptSizing="dynamic">
                        <div class="w-full h-full flex items-center justify-center text-secondary" matPrefix>
                            <mat-icon *ngIf="!isSearching" svgIcon="mat_outline:category"></mat-icon>
                            <mat-progress-spinner *ngIf="isSearching" matSuffix [diameter]="24"
                                [mode]="'indeterminate'">
                            </mat-progress-spinner>
                        </div>
                        <mat-select placeholder="Face List" (selectionChange)="chooseFaceList($event)"
                            [value]="oSelected_Face_Target_List">
                            <mat-option [value]="null">None</mat-option>
                            <mat-option *ngFor="let list of oList_Face_Target_Lists" [value]="list.Name">
                                {{list.Name}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>
        </div>
        <div class="flex flex-col justify-between px-4">
            <div class="flex items-center">
                <div class="flex-auto flex flex-col">
                    <mat-form-field class="flex-auto smartr-mat-emphasized-prefix" subscriptSizing="dynamic">
                        <div class="w-full h-full flex items-center justify-center text-secondary" matPrefix>
                            <mat-icon *ngIf="!isSearching" svgIcon="mat_outline:face"></mat-icon>
                            <mat-progress-spinner *ngIf="isSearching" matSuffix [diameter]="24"
                                [mode]="'indeterminate'">
                            </mat-progress-spinner>
                        </div>
                        <input matInput type="text" placeholder="Target Name" [formControl]="targetNameSearchInput">
                    </mat-form-field>
                </div>
            </div>
        </div>
    </div>
    <div class="flex flex-auto">
        <div *ngIf="!isNoLicensePlates && dataSource.data.length!=0" class="w-full" style="height: fit-content;">
            <table mat-table matSort matTableResponsive [dataSource]="dataSource" class="border-t w-full">
                <ng-container matColumnDef="Face Image">
                    <th mat-header-cell *matHeaderCellDef class="bg-white w-50"> Face Image </th>
                    <td mat-cell *matCellDef="let element">
                        <div class="relative flex image-container cursor-pointer">
                            <img *ngIf="element.Keys[0].File" [src]="Sanitize(element.Keys[0].File)"
                                style="width: 150px !important;">
                        </div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="Name">
                    <th mat-header-cell *matHeaderCellDef class="bg-white w-50"> Name</th>
                    <td mat-cell *matCellDef="let element"> {{element.Name?element.Name:
                        "N/A"}} </td>
                </ng-container>

                <ng-container matColumnDef="List">
                    <th mat-header-cell *matHeaderCellDef class="bg-white w-50">List</th>
                    <td mat-cell *matCellDef="let element"> {{element.Category.Name?element.Category.Name:"N/A"}}
                    </td>
                </ng-container>

                <ng-container matColumnDef="Birth Year">
                    <th mat-header-cell *matHeaderCellDef class="bg-white w-50">Birth Year</th>
                    <td mat-cell *matCellDef="let element">
                        {{element.BirthYear?element.BirthYear:"N/A"}} </td>
                </ng-container>

                <ng-container matColumnDef="Gender">
                    <th mat-header-cell *matHeaderCellDef class="bg-white w-50"> Gender </th>
                    <td mat-cell *matCellDef="let element"> {{element.Gender?element.Gender:"N/A"}}
                    </td>
                </ng-container>

                <ng-container matColumnDef="Description">
                    <th mat-header-cell *matHeaderCellDef class="bg-white w-50"> Description </th>
                    <td mat-cell *matCellDef="let element"> {{element.Description?element.Description:"N/A"}}
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true;"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;">
                </tr>
            </table>
        </div>
        <div *ngIf="isSearching && dataSource.data.length==0" class="loader-container">
            <div class="loader"></div>
        </div>
        <div *ngIf="!isSearching && dataSource.data.length==0"
            class="flex flex-auto items-center justify-center p-6 sm:p-10">
            <div class="mt-2 text-lg md:text-xl font-medium tracking-tight text-center text-secondary">
                No Faces Were Found</div>
        </div>
    </div>
    <div class="relative flex bg-card px-4">
        <mat-paginator class="w-full" style="justify-content: space-between; z-index: 1;" [length]="faceListCount"
            [pageSize]="pageSize" [pageSizeOptions]="[5, 10, 20, 50, 100]" [pageIndex]="pageIndex"
            [showFirstLastButtons]="true" (page)="setPage($event)" aria-label="Select page">
        </mat-paginator>
    </div>
</div>